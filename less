#!/bin/bash

set -e

echo "Setting LESSCHARSET=utf-8 for current shell..."
export LESSCHARSET=utf-8

add_to_file() {
    local file="$1"
    local line="export LESSCHARSET=utf-8"

    if [ -f "$file" ]; then
        # Check whether the line already exists
        if ! grep -Fxq "$line" "$file"; then
            echo "$line" >> "$file"
            echo "→ Added to $file"
        else
            echo "✓ Already present in $file, skipping"
        fi
    else
        echo "· $file not found, skipping"
    fi
}

echo "Updating shell config files..."

add_to_file "$HOME/.zshrc"
add_to_file "$HOME/.bashrc"

echo "Done. Restart your terminal to apply changes."

